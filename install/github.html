<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>Github integration · Tutelar</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content='paradox-docs'/>
<link href="https://fonts.googleapis.com/css?family=Roboto:100normal,100italic,300normal,300italic,400normal,400italic,500normal,500italic,700normal,700italic,900normal,900italicc" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../js/page.js"></script>
<script type="text/javascript" src="../js/warnOldVersion.js"></script>
<script type="text/javascript" src="../js/groups.js"></script>
<link rel="stylesheet" type="text/css" href="../lib/foundation/dist/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="../css/page.css"/>

<!--
<link rel="shortcut icon" href="../images/favicon.ico" />
-->
</head>

<body>
<div class="off-canvas-wrapper">
<div class="off-canvas-wrapper-inner" data-off-canvas-wrapper>

<div class="off-canvas position-left" id="off-canvas-menu" data-off-canvas>
<nav class="off-canvas-nav">
<div class="nav-home">
<a href="../index.html" >
<span class="home-icon">⌂</span>Tutelar
</a>
<div class="version-number">
1.0.0-alpha-11
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="../flows.html" class="page">Flows</a></li>
  <li><a href="../vocabulary.html" class="page">Vocabulary</a></li>
  <li><a href="../install/index.html" class="page">Install</a>
  <ul>
    <li><a href="../install/github.html" class="active page">Github integration</a></li>
    <li><a href="../install/facebook.html" class="page">Facebook integration</a></li>
    <li><a href="../install/google.html" class="page">Google integration</a></li>
    <li><a href="../install/microsoft.html" class="page">Microsoft integration</a></li>
    <li><a href="../install/ldap.html" class="page">LDAP integration</a></li>
    <li><a href="../install/basic.html" class="page">Basic user/pass</a></li>
  </ul></li>
  <li><a href="../use-cases/index.html" class="page">Common use-cases</a>
  <ul>
    <li><a href="../use-cases/just-identity.html" class="page">Just identity check</a></li>
    <li><a href="../use-cases/authority-handling.html" class="page">Authority handling</a></li>
  </ul></li>
</ul>
</div>

</nav>
</div>

<div class="off-canvas-content" data-off-canvas-content>

<header class="site-header expanded row">
<div class="small-12 column">
<a href="#" class="off-canvas-toggle hide-for-medium" data-toggle="off-canvas-menu"><svg class="svg-icon svg-icon-menu" version="1.1" id="Menu" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"> <path class="svg-icon-menu-path" fill="#53CDEC" d="M16.4,9H3.6C3.048,9,3,9.447,3,10c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,9.447,16.952,9,16.4,9z M16.4,13
H3.6C3.048,13,3,13.447,3,14c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,13.447,16.952,13,16.4,13z M3.6,7H16.4
C16.952,7,17,6.553,17,6c0-0.553-0.048-1-0.6-1H3.6C3.048,5,3,5.447,3,6C3,6.553,3.048,7,3.6,7z"/></svg>
</a>
<div class="title"><a href="../index.html">Tutelar</a></div>

<!--
<a href="https://www.example.com" class="logo show-for-medium">logo</a>
-->
</div>
</header>

<div class="expanded row">

<div class="medium-3 large-2 show-for-medium column">
<nav class="site-nav">
<div class="nav-home">
<a href="../index.html" >
<span class="home-icon">⌂</span>Tutelar
</a>
<div class="version-number">
1.0.0-alpha-11
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="../flows.html" class="page">Flows</a></li>
  <li><a href="../vocabulary.html" class="page">Vocabulary</a></li>
  <li><a href="../install/index.html" class="page">Install</a>
  <ul>
    <li><a href="../install/github.html" class="active page">Github integration</a></li>
    <li><a href="../install/facebook.html" class="page">Facebook integration</a></li>
    <li><a href="../install/google.html" class="page">Google integration</a></li>
    <li><a href="../install/microsoft.html" class="page">Microsoft integration</a></li>
    <li><a href="../install/ldap.html" class="page">LDAP integration</a></li>
    <li><a href="../install/basic.html" class="page">Basic user/pass</a></li>
  </ul></li>
  <li><a href="../use-cases/index.html" class="page">Common use-cases</a>
  <ul>
    <li><a href="../use-cases/just-identity.html" class="page">Just identity check</a></li>
    <li><a href="../use-cases/authority-handling.html" class="page">Authority handling</a></li>
  </ul></li>
</ul>
</div>

</nav>
</div>

<div class="small-12 medium-9 large-10 column">
<section class="site-content">

<span id="version-warning"></span>

<div class="page-header row">
<div class="medium-12 show-for-medium column">
<div class="nav-breadcrumbs">
<ul>
  <li><a href="../index.html">Tutelar</a></li>
  <li><a href="../install/index.html">Install</a></li>
  <li>Github integration</li>
</ul>
</div>
</div>
</div>

<div class="page-content row">
<div class="small-12 large-9 column" id="docs">
<h1><a href="#github-integration" name="github-integration" class="anchor"><span class="anchor-link"></span></a>Github integration</h1>
<p>With this integration you can add <code>Login with Github</code> button to your application. We integrated <a href="https://developer.github.com/apps/building-oauth-apps/authorizing-oauth-apps/">the original flow</a>.</p>
<h3><a href="#pre-config" name="pre-config" class="anchor"><span class="anchor-link"></span></a>Pre-config</h3>
<p>Before you start, you need to <a href="https://developer.github.com/apps/building-oauth-apps/creating-an-oauth-app/">register/create your application</a> in your github settings. The only nontrivial part is the &ldquo;callback url&rdquo;. For local tests you can use <code>https://lvh.me:9443/</code> or <code>https://localtest.me:9443</code> (these domains pointed to 127.0.0.1 which will be your local machine). For production, you want to use your own (tutelar) domain.</p><div class="callout note "><div class="callout-title">Note</div>
<p>Note the https and 9443 port. When this documentation born, only the Github integration worked with simple http. You can try to use simple http for local tests but it is an anti-pattern everywhere. Try to make your local tests-env to work over https too!</p></div>
<p>After you created your new OAuth app on github, you will need the clientId and clientSecret from their site.</p>
<h3><a href="#configuration" name="configuration" class="anchor"><span class="anchor-link"></span></a>Configuration</h3>
<p>You should set the <code>oauth2.github.clientId</code>, <code>oauth2.github.clientSecret</code> and <code>oauth2.github.scopes</code> variables. The first two cames from the pre-config step. The last one is <code>read:user</code> by default, but you can use anything from the <a href="https://developer.github.com/apps/building-oauth-apps/understanding-scopes-for-oauth-apps/#available-scopes">official list</a>. (If you use multiple scopes, you need to separate them with <code>,</code> like <code>a,b,c</code>.)</p>
<p>Also you should set the <code>rootUrl</code> correctly (it is needed for the callbacks). And the <code>callback.success</code> and <code>callback.failure</code> to handle redirects correctly.</p>
<h4><a href="#example" name="example" class="anchor"><span class="anchor-link"></span></a>Example</h4>
<p>Your frontend is on <code>https://example.com</code>, your tutelar service is on <code>https://auth.example.com</code>.</p>
<p>The rootUrl should be <code>https://auth.example.com</code>. The success url is something like <code>https://example.com/authentication?token=&lt;&lt;TOKEN&gt;&gt;</code> and the failure like <code>https://example.com/authenticationError/&lt;&lt;ERROR&gt;&gt;</code> </p>
<h3><a href="#hooks-data" name="hooks-data" class="anchor"><span class="anchor-link"></span></a>Hooks data</h3>
<p>The hooks will contain the user <a href="https://developer.github.com/v3/users/">profile</a> from <code>https://api.github.com/user</code>.</p>
<h3><a href="#getting-more-data-from-the-api" name="getting-more-data-from-the-api" class="anchor"><span class="anchor-link"></span></a>Getting more data from the API</h3><div class="callout warning "><div class="callout-title">Warning</div>
<p>Currently there is no possible way to get back the auth token from tutelar. In the near future probably there will be an api for it.</p></div>
<h3><a href="#frontend-for-registration" name="frontend-for-registration" class="anchor"><span class="anchor-link"></span></a>Frontend for registration</h3>
<p>Not needed to differenciate your registration and login frontend.</p>
<h3><a href="#frontend-for-login" name="frontend-for-login" class="anchor"><span class="anchor-link"></span></a>Frontend for login</h3>
<p>The easiest way to create a proper button is using an <a href="https://lipis.github.io/bootstrap-social/">already created lib</a> for it.</p>
<p>If you want to go with minimal HTML:</p>
<pre class="prettyprint"><code class="language-html">&lt;a id=&quot;github-button&quot; class=&quot;btn btn-block btn-social btn-github&quot;&gt;
  &lt;i class=&quot;fa fa-github&quot;&gt;&lt;/i&gt; Sign in with Github
&lt;/a&gt;
</code></pre>
<p>You should add a <code>href=&quot;https://auth.example.com/github/login&quot;</code> to the <code>&lt;a&gt;</code> tag too.</p>
<h3><a href="#mobile-implementation" name="mobile-implementation" class="anchor"><span class="anchor-link"></span></a>Mobile implementation</h3><div class="callout warning "><div class="callout-title">Warning</div>
<p>The correct mobile implementation is not yet designed. (Maybe not even possible/needed.)</p></div>
<div class="source-github">
The source code for this page can be found <a href="https://github.com/TeamWanari/tutelar/tree/v1.0.0-alpha-11/docs/src/main/paradox/install/github.md">here</a>.
</div>

<div class="nav-next">
<p><strong>Next:</strong> <a href="../install/facebook.html">Facebook integration</a></p>
</div>
</div>
<div class="large-3 show-for-large column" data-sticky-container>
<nav class="sidebar sticky" data-sticky data-anchor="docs" data-sticky-on="large">
<div class="page-nav">
<div class="nav-title">On this page:</div>
<div class="nav-toc">
<ul>
  <li><a href="../install/github.html#github-integration" class="header">Github integration</a>
  <ul>
    <li><a href="../install/github.html#pre-config" class="header">Pre-config</a></li>
    <li><a href="../install/github.html#configuration" class="header">Configuration</a></li>
    <li><a href="../install/github.html#hooks-data" class="header">Hooks data</a></li>
    <li><a href="../install/github.html#getting-more-data-from-the-api" class="header">Getting more data from the API</a></li>
    <li><a href="../install/github.html#frontend-for-registration" class="header">Frontend for registration</a></li>
    <li><a href="../install/github.html#frontend-for-login" class="header">Frontend for login</a></li>
    <li><a href="../install/github.html#mobile-implementation" class="header">Mobile implementation</a></li>
  </ul></li>
</ul>
</div>
</div>
</nav>
</div>
</div>

</section>
</div>

</div>

<footer class="site-footer">

<section class="site-footer-nav">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 medium-4 large-3 text-center column">
<div class="nav-links">
<ul>
<!-- <li><a href="https://www.example.com/products/">Products</a> -->
</ul>
</div>
</div>

</div>
</div>
</div>
</section>

<section class="site-footer-base">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 text-center large-9 column">

<!--
<div class="copyright">
<span class="text">&copy; 2020</span>
<a href="https://www.example.com" class="logo">logo</a>
</div>
-->
</div>

</div>
</div>
</div>
</section>
</footer>

</div>
</div>
</div>
</body>

<script type="text/javascript" src="../lib/foundation/dist/foundation.min.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="../js/magellan.js"></script>

<style type="text/css">@import "../lib/prettify/prettify.css";</style>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">jQuery(function(){window.prettyPrint && prettyPrint()});</script>
<script type="text/javascript">jQuery(function(jq){initOldVersionWarnings(jq, '1.0.0-alpha-11', '')});</script>


</html>
